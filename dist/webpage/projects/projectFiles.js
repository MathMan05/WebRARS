import{I18n}from"../i18n.js";import{Directory}from"../utils/utils.js";class FileEvent extends Event{fileName;file;constructor(event,fileName,file){super(event);this.fileName=fileName;this.file=file}}class ProjFiles extends EventTarget{pro;constructor(pro){super();this.pro=pro}async createHTML(){const div=document.createElement("div");div.classList.add("flexttb","projFiles");const h2=document.createElement("h3");h2.textContent=I18n.project.ProjFileHead(this.pro.name);div.append(h2);const files=await this.createDirHTML(this.pro.dir);div.append(files);return div}addEventListener(type,listener,options){super.addEventListener(type,listener,options)}async createDirHTML(dir,name=undefined,curDir="/"){const div=document.createElement("div");div.classList.add("flexttb");if(name){const h3=document.createElement("h3");h3.textContent=name;div.append(h3);div.classList.add("indent")}else{div.classList.add("fileList")}for await(const[name,thing]of dir.getAllInDir()){if(thing instanceof Directory){div.append(await this.createDirHTML(thing,name,curDir+name+"/"))}else{const span=document.createElement("span");span.textContent=name;span.onclick=()=>{this.dispatchEvent(new FileEvent("open",curDir+name,thing))};div.append(span)}}return div}}export{ProjFiles};
//# sourceMappingURL=projectFiles.js.map